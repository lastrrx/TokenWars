<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Guide - TokenWars</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Solana Web3.js -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    
    <!-- Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="stylesheet" href="styles.css">
    
    <style>
        /* Guide Page Specific Styles */
        .guide-hero {
            background: linear-gradient(180deg, rgba(139, 92, 246, 0.05) 0%, transparent 100%);
            padding: 6rem 2rem 4rem;
            text-align: center;
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
        }

        .guide-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #8b5cf6, #ec4899, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .guide-subtitle {
            font-size: 1.5rem;
            color: #d1d5db;
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .guide-badges {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 2rem;
            color: #8b5cf6;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(139, 92, 246, 0.2);
        }

        /* Table of Contents */
        .toc-container {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 0 2rem;
        }

        .toc-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .toc-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            color: #8b5cf6;
            margin-bottom: 0.5rem;
        }

        .toc-subtitle {
            color: #9ca3af;
        }

        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 4rem;
        }

        .toc-card {
            background: rgba(31, 41, 55, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 1rem;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .toc-card:hover {
            transform: translateY(-5px);
            border-color: #8b5cf6;
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.2);
        }

        .toc-number {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.3rem;
            color: white;
            margin: 0 auto 1rem;
        }

        .toc-card-title {
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .toc-card-desc {
            color: #9ca3af;
            font-size: 0.9rem;
            text-align: center;
        }

        /* Content Sections */
        .guide-section {
            padding: 5rem 0;
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
        }

        .guide-section:last-child {
            border-bottom: none;
        }

        .section-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.5rem;
            color: white;
            margin: 0 auto 1.5rem;
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 1rem;
        }

        .section-description {
            color: #9ca3af;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* Visual Content Boxes */
        .visual-box {
            background: rgba(31, 41, 55, 0.5);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: 1.5rem;
            padding: 3rem;
            margin: 3rem 0;
        }

        .visual-box-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #8b5cf6;
            text-align: center;
            margin-bottom: 2rem;
        }

        /* Timeframe Cards - Improved */
        .timeframe-showcase {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 3rem 0;
            flex-wrap: wrap;
        }

        .timeframe-card {
            background: rgba(31, 41, 55, 0.5);
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
            border-radius: 1.5rem;
            padding: 2.5rem 2rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            flex: 1;
            min-width: 220px;
            max-width: 280px;
        }

        .timeframe-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .timeframe-card:hover {
            transform: translateY(-10px);
            border-color: #8b5cf6;
            box-shadow: 0 25px 50px rgba(139, 92, 246, 0.3);
        }

        .timeframe-card:hover::before {
            opacity: 0.1;
        }

        .timeframe-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 0 20px rgba(139, 92, 246, 0.5));
        }

        .timeframe-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .timeframe-duration {
            font-size: 1.2rem;
            color: #10b981;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .timeframe-description {
            color: #d1d5db;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Process Steps - Improved */
        .process-flow {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 2rem;
            margin: 4rem 0;
            position: relative;
            flex-wrap: wrap;
        }

        .process-flow::before {
            content: '';
            position: absolute;
            top: 50px;
            left: 10%;
            right: 10%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #8b5cf6, transparent);
            z-index: -1;
        }

        .process-step {
            flex: 1;
            text-align: center;
            min-width: 180px;
        }

        .process-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin: 0 auto 1.5rem;
            box-shadow: 0 15px 40px rgba(139, 92, 246, 0.3);
            position: relative;
            z-index: 1;
        }

        .process-title {
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .process-desc {
            color: #9ca3af;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Token Matching Visual - Improved */
        .matching-examples {
            display: grid;
            gap: 2rem;
            margin: 3rem 0;
        }

        .match-example {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3rem;
            padding: 2rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 1rem;
            transition: all 0.3s ease;
        }

        .match-example.valid {
            border: 2px solid rgba(16, 185, 129, 0.3);
            background: rgba(16, 185, 129, 0.05);
        }

        .match-example.invalid {
            border: 2px solid rgba(239, 68, 68, 0.3);
            background: rgba(239, 68, 68, 0.05);
            opacity: 0.8;
        }

        .token-info {
            text-align: center;
            padding: 1rem;
        }

        .token-symbol {
            font-family: 'Orbitron', monospace;
            font-size: 1.4rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 0.5rem;
        }

        .token-mcap {
            font-size: 1rem;
            color: #9ca3af;
        }

        .match-status {
            font-size: 2.5rem;
        }

        /* Interactive Elements */
        .interactive-demo {
            background: rgba(139, 92, 246, 0.05);
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: 1.5rem;
            padding: 3rem;
            margin: 3rem 0;
        }

        .demo-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #8b5cf6;
            text-align: center;
            margin-bottom: 2rem;
        }

        /* FAQ Section - Improved */
        .faq-container {
            max-width: 800px;
            margin: 3rem auto;
        }

        .faq-item {
            background: rgba(31, 41, 55, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            border-color: #8b5cf6;
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.1);
        }

        .faq-question {
            padding: 1.5rem 2rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #ffffff;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            background: rgba(139, 92, 246, 0.05);
        }

        .faq-toggle {
            font-size: 1.5rem;
            color: #8b5cf6;
            transition: transform 0.3s ease;
        }

        .faq-answer {
            padding: 0 2rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            color: #d1d5db;
            line-height: 1.8;
        }

        .faq-item.active .faq-answer {
            padding: 0 2rem 1.5rem;
            max-height: 500px;
        }

        .faq-item.active .faq-toggle {
            transform: rotate(45deg);
        }

        /* CTA Section */
        .guide-cta {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 2rem;
            padding: 4rem 2rem;
            text-align: center;
            margin: 5rem auto;
            max-width: 900px;
        }

        .cta-title {
            font-family: 'Orbitron', monospace;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .cta-subtitle {
            font-size: 1.3rem;
            color: #d1d5db;
            margin-bottom: 3rem;
        }

        .cta-steps {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .cta-step {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .cta-step-number {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: white;
        }

        .cta-step-text {
            color: #ffffff;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            color: white;
            padding: 1.5rem 4rem;
            border-radius: 1rem;
            font-size: 1.3rem;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 15px 40px rgba(139, 92, 246, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 50px rgba(139, 92, 246, 0.4);
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
            opacity: 0;
            visibility: hidden;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(139, 92, 246, 0.4);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .guide-title {
                font-size: 2.5rem;
            }

            .guide-subtitle {
                font-size: 1.2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .toc-grid {
                grid-template-columns: 1fr;
            }

            .process-flow::before {
                display: none;
            }

            .process-flow {
                flex-direction: column;
                align-items: center;
            }

            .timeframe-showcase {
                flex-direction: column;
                align-items: center;
            }

            .cta-steps {
                flex-direction: column;
                gap: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-background"></div>
    <div class="geometric-patterns"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">TokenWars</a>
            
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html#markets">Markets</a></li>
                <li><a href="index.html#competitions">Tournament</a></li>
                <li><a href="index.html#analytics">Analytics</a></li>
                <li><a href="index.html#leaderboard">Rankings</a></li>
                <li><a href="index.html#portfolio">Portfolio</a></li>
                <li><a href="how-it-works.html" class="active">Guide</a></li>
                
                <!-- Wallet Connection States -->
                <li id="connectWalletBtn"><a href="#" class="btn-primary" onclick="openWalletModal()">Connect Wallet</a></li>
                <li id="traderInfo" style="display: none;">
                    <div id="navTraderAvatar">🎯</div>
                    <span id="navTraderName">Trader</span>
                    <button class="nav-disconnect" onclick="disconnectWallet()">Disconnect</button>
                </li>
            </ul>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="guide-hero">
        <h1 class="guide-title">Platform Guide</h1>
        <p class="guide-subtitle">Everything you need to know about TokenWars</p>
        
        <div class="guide-badges">
            <div class="badge">
                <span>🔐</span>
                <span>Secured by Smart Contracts</span>
            </div>
            <div class="badge">
                <span>📊</span>
                <span>TWAP Price Discovery</span>
            </div>
            <div class="badge">
                <span>⚡</span>
                <span>Instant Payouts</span>
            </div>
        </div>
    </div>

    <!-- Table of Contents -->
    <div class="toc-container">
        <div class="toc-header">
            <h2 class="toc-title">Quick Navigation</h2>
            <p class="toc-subtitle">Jump to any section to learn more</p>
        </div>

        <div class="toc-grid">
            <a href="#timeframes" class="toc-card">
                <div class="toc-number">1</div>
                <h3 class="toc-card-title">Competition Timeframes</h3>
                <p class="toc-card-desc">1 hour, 24 hours, or 7 days</p>
            </a>

            <a href="#how-it-works" class="toc-card">
                <div class="toc-number">2</div>
                <h3 class="toc-card-title">How Predictions Work</h3>
                <p class="toc-card-desc">Step-by-step process</p>
            </a>

            <a href="#token-matching" class="toc-card">
                <div class="toc-number">3</div>
                <h3 class="toc-card-title">Token Matching</h3>
                <p class="toc-card-desc">Fair algorithmic pairing</p>
            </a>

            <a href="#prize-system" class="toc-card">
                <div class="toc-number">4</div>
                <h3 class="toc-card-title">Prize System</h3>
                <p class="toc-card-desc">How winnings are calculated</p>
            </a>

            <a href="#twap-pricing" class="toc-card">
                <div class="toc-number">5</div>
                <h3 class="toc-card-title">TWAP Pricing</h3>
                <p class="toc-card-desc">Manipulation-resistant settlement</p>
            </a>

            <a href="#escrow" class="toc-card">
                <div class="toc-number">6</div>
                <h3 class="toc-card-title">Escrow Security</h3>
                <p class="toc-card-desc">Your funds are safe</p>
            </a>

            <a href="#features" class="toc-card">
                <div class="toc-number">7</div>
                <h3 class="toc-card-title">Platform Features</h3>
                <p class="toc-card-desc">Tools for success</p>
            </a>

            <a href="#faq" class="toc-card">
                <div class="toc-number">8</div>
                <h3 class="toc-card-title">FAQ</h3>
                <p class="toc-card-desc">Common questions answered</p>
            </a>
        </div>
    </div>

    <!-- Content Sections -->
    
    <!-- Section 1: Competition Timeframes -->
    <section id="timeframes" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">1</div>
                <h2 class="section-title">Competition Timeframes</h2>
                <p class="section-description">
                    Choose the prediction window that matches your trading style. 
                    All competitions have the same 0.1 SOL entry fee and prize structure.
                </p>
            </div>

            <div class="timeframe-showcase">
                <div class="timeframe-card">
                    <div class="timeframe-icon">⚡</div>
                    <div class="timeframe-name">QUICK</div>
                    <div class="timeframe-duration">1 Hour</div>
                    <div class="timeframe-description">
                        Perfect for active traders who love fast-paced action and quick results
                    </div>
                </div>

                <div class="timeframe-card">
                    <div class="timeframe-icon">📅</div>
                    <div class="timeframe-name">DAILY</div>
                    <div class="timeframe-duration">24 Hours</div>
                    <div class="timeframe-description">
                        Our most popular format - ideal for daily market movements
                    </div>
                </div>

                <div class="timeframe-card">
                    <div class="timeframe-icon">📊</div>
                    <div class="timeframe-name">WEEKLY</div>
                    <div class="timeframe-duration">7 Days</div>
                    <div class="timeframe-description">
                        For swing traders with longer-term market perspectives
                    </div>
                </div>
            </div>

            <div class="visual-box">
                <p style="text-align: center; font-size: 1.2rem; color: #8b5cf6; font-weight: 600;">
                    💡 Pro Tip: Start with 1-hour competitions to learn the platform, then expand to longer timeframes
                </p>
            </div>
        </div>
    </section>

    <!-- Section 2: How Predictions Work -->
    <section id="how-it-works" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">2</div>
                <h2 class="section-title">How Predictions Work</h2>
                <p class="section-description">
                    A simple 5-step process from token selection to payout. 
                    Everything is automated and transparent through smart contracts.
                </p>
            </div>

            <div class="process-flow">
                <div class="process-step">
                    <div class="process-icon">🎲</div>
                    <h3 class="process-title">Pairs Generated</h3>
                    <p class="process-desc">Algorithm matches similar tokens</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">💡</div>
                    <h3 class="process-title">Make Prediction</h3>
                    <p class="process-desc">Choose the winner</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">📈</div>
                    <h3 class="process-title">Track Progress</h3>
                    <p class="process-desc">Watch in real-time</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">⚖️</div>
                    <h3 class="process-title">TWAP Settlement</h3>
                    <p class="process-desc">Fair price calculation</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">💰</div>
                    <h3 class="process-title">Auto Payout</h3>
                    <p class="process-desc">Instant winnings</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Token Matching -->
    <section id="token-matching" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">3</div>
                <h2 class="section-title">Smart Token Matching</h2>
                <p class="section-description">
                    Our algorithm ensures fair competition by pairing tokens with similar market caps. 
                    Only tokens within ±10% market cap range can compete against each other.
                </p>
            </div>

            <div class="visual-box">
                <h3 class="visual-box-title">Market Cap Matching Examples</h3>
                
                <div class="matching-examples">
                    <div class="match-example valid">
                        <div class="token-info">
                            <div class="token-symbol">BONK</div>
                            <div class="token-mcap">$500M</div>
                        </div>
                        <div class="match-status">✅</div>
                        <div class="token-info">
                            <div class="token-symbol">WIF</div>
                            <div class="token-mcap">$480M</div>
                        </div>
                    </div>

                    <div class="match-example valid">
                        <div class="token-info">
                            <div class="token-symbol">JUP</div>
                            <div class="token-mcap">$1.2B</div>
                        </div>
                        <div class="match-status">✅</div>
                        <div class="token-info">
                            <div class="token-symbol">ORCA</div>
                            <div class="token-mcap">$1.15B</div>
                        </div>
                    </div>

                    <div class="match-example invalid">
                        <div class="token-info">
                            <div class="token-symbol">SOL</div>
                            <div class="token-mcap">$50B</div>
                        </div>
                        <div class="match-status">❌</div>
                        <div class="token-info">
                            <div class="token-symbol">BONK</div>
                            <div class="token-mcap">$500M</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Prize Distribution -->
    <section id="prize-system" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">4</div>
                <h2 class="section-title">Prize Distribution System</h2>
                <p class="section-description">
                    Winners split 85% of the total pool. The fewer winners, the bigger your share! 
                    Platform takes 15% fee for operations and development.
                </p>
            </div>

            <div class="interactive-demo">
                <h3 class="demo-title">Interactive Prize Calculator</h3>
                <p style="text-align: center; color: #9ca3af; margin-bottom: 2rem;">
                    Drag the slider to see how predictions affect payouts
                </p>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Total Players: 100</span>
                        <span>Pool: 10 SOL</span>
                    </div>
                    <input type="range" class="prize-slider" id="prizeSlider" min="10" max="90" value="60" oninput="updatePrizeCalculator(this.value)">
                    <div class="slider-label">
                        <span id="tokenAPlayers">60 pick Token A</span>
                        <span id="tokenBPlayers">40 pick Token B</span>
                    </div>
                </div>

                <div class="distribution-visual" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                    <div class="team-box" id="teamA" style="background: rgba(139, 92, 246, 0.1); border: 2px solid rgba(139, 92, 246, 0.3); border-radius: 1rem; padding: 2rem; text-align: center;">
                        <h4 style="color: #8b5cf6; margin-bottom: 1rem;">Token A Winners</h4>
                        <div class="team-players" id="teamACount" style="font-size: 2rem; font-weight: 700; color: #8b5cf6;">60</div>
                        <div class="team-result" style="margin-top: 1rem;">
                            <div style="color: #d1d5db;">Each gets:</div>
                            <div class="payout-amount" id="payoutA" style="font-size: 1.8rem; font-weight: 700; color: #ffd700;">1.42 SOL</div>
                            <div class="return-multiplier" id="returnA" style="color: #10b981;">14.2x return!</div>
                        </div>
                    </div>

                    <div class="team-box" id="teamB" style="background: rgba(236, 72, 153, 0.1); border: 2px solid rgba(236, 72, 153, 0.3); border-radius: 1rem; padding: 2rem; text-align: center;">
                        <h4 style="color: #ec4899; margin-bottom: 1rem;">Token B Winners</h4>
                        <div class="team-players" id="teamBCount" style="font-size: 2rem; font-weight: 700; color: #ec4899;">40</div>
                        <div class="team-result" style="margin-top: 1rem;">
                            <div style="color: #d1d5db;">Each gets:</div>
                            <div class="payout-amount" id="payoutB" style="font-size: 1.8rem; font-weight: 700; color: #ffd700;">2.13 SOL</div>
                            <div class="return-multiplier" id="returnB" style="color: #10b981;">21.3x return!</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 5: TWAP Pricing -->
    <section id="twap-pricing" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">5</div>
                <h2 class="section-title">TWAP Pricing Explained</h2>
                <p class="section-description">
                    Time-Weighted Average Price (TWAP) ensures fair and manipulation-resistant results. 
                    We calculate the average price over 30-minute windows at start and end.
                </p>
            </div>

            <div class="visual-box">
                <h3 class="visual-box-title">Why TWAP?</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
                    <div style="text-align: center; padding: 2rem; background: rgba(15, 23, 42, 0.5); border-radius: 1rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">🚫</div>
                        <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">No Pump & Dump</h4>
                        <p style="color: #d1d5db;">Single large trades can't affect the outcome</p>
                    </div>

                    <div style="text-align: center; padding: 2rem; background: rgba(15, 23, 42, 0.5); border-radius: 1rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">⚡</div>
                        <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">No Flash Loans</h4>
                        <p style="color: #d1d5db;">Time-based averaging prevents instant manipulation</p>
                    </div>

                    <div style="text-align: center; padding: 2rem; background: rgba(15, 23, 42, 0.5); border-radius: 1rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">🔍</div>
                        <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Multi-DEX Data</h4>
                        <p style="color: #d1d5db;">Aggregates prices from Jupiter, Orca, Raydium</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 6: Escrow System -->
    <section id="escrow" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">6</div>
                <h2 class="section-title">Escrow & Security</h2>
                <p class="section-description">
                    All funds are secured in audited Solana smart contracts. 
                    No one can access the funds except the winners when the competition ends.
                </p>
            </div>

            <div class="process-flow">
                <div class="process-step">
                    <div class="process-icon">💳</div>
                    <h3 class="process-title">Entry Fees</h3>
                    <p class="process-desc">0.1 SOL per player</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">🔒</div>
                    <h3 class="process-title">Locked in Contract</h3>
                    <p class="process-desc">Funds secured on-chain</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">⏱️</div>
                    <h3 class="process-title">Competition Period</h3>
                    <p class="process-desc">No access to funds</p>
                </div>

                <div class="process-step">
                    <div class="process-icon">🏆</div>
                    <h3 class="process-title">Auto Distribution</h3>
                    <p class="process-desc">Winners paid instantly</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <a href="#" class="badge" style="font-size: 1.1rem; padding: 1rem 2rem;">
                    🔍 View Contract on Solscan
                </a>
            </div>
        </div>
    </section>

    <!-- Section 7: Platform Features -->
    <section id="features" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">7</div>
                <h2 class="section-title">Platform Features</h2>
                <p class="section-description">
                    Everything you need to succeed as a token predictor
                </p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
                <div class="visual-box" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">📊</div>
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Live Tracking</h4>
                    <p style="color: #d1d5db;">Real-time price updates and performance metrics</p>
                </div>

                <div class="visual-box" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🏆</div>
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Leaderboards</h4>
                    <p style="color: #d1d5db;">Compete for top trader status and recognition</p>
                </div>

                <div class="visual-box" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">📈</div>
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Performance Stats</h4>
                    <p style="color: #d1d5db;">Track your win rate and profit history</p>
                </div>

                <div class="visual-box" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🎯</div>
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Achievements</h4>
                    <p style="color: #d1d5db;">Unlock badges and special rewards</p>
                </div>

                <div class="visual-box" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">📱</div>
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Mobile Ready</h4>
                    <p style="color: #d1d5db;">Trade on any device, anywhere</p>
                </div>

                <div class="visual-box" style="text-align: center; opacity: 0.6;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">💬</div>
                    <h4 style="color: #8b5cf6; margin-bottom: 0.5rem;">Community Hub</h4>
                    <p style="color: #d1d5db;">Share strategies with other traders</p>
                    <div class="badge" style="margin-top: 1rem;">Coming Soon</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 8: FAQ -->
    <section id="faq" class="guide-section">
        <div class="section-container">
            <div class="section-header">
                <div class="section-number">8</div>
                <h2 class="section-title">Frequently Asked Questions</h2>
                <p class="section-description">
                    Get answers to the most common questions about TokenWars
                </p>
            </div>

            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How are tokens selected for competitions?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        Our automated algorithm pairs tokens with similar market caps (within ±10%) to ensure fair competition. Tokens must have minimum liquidity of $1M, be at least 30 days old, and have active trading volume on major Solana DEXs.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What happens if I pick the wrong token?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        If your chosen token underperforms, you lose your 0.1 SOL entry fee. This goes into the prize pool for the winners. Remember to only predict with funds you can afford to lose, and consider starting with shorter timeframes to learn.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I cancel a prediction once placed?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        No, all predictions are final once placed. This ensures fairness for all participants and prevents manipulation of the prize pool. Make sure you're confident in your prediction before confirming.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How fast are payouts processed?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        Payouts are instant! As soon as the competition ends and winners are determined by TWAP calculations, the smart contract automatically distributes winnings to all successful predictors. You'll see the SOL in your wallet immediately.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What happens in case of a tie?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        Ties are extremely rare with TWAP pricing calculated to 8 decimal places. In the unlikely event of an exact tie (matching performance to all decimal places), all participants receive their entry fees back minus gas fees.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Are there any restrictions on who can play?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        You must be 18 years or older to participate. TokenWars is not available in jurisdictions where prediction markets are prohibited. Always check your local regulations. We recommend using a dedicated wallet for predictions, separate from your main holdings.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How does the achievement system work?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        Achievements are unlocked based on your trading performance and activity. Examples include winning streaks, total predictions made, profit milestones, and accuracy rates. Each achievement comes with points that contribute to your overall ranking.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I participate in multiple competitions at once?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        Yes! You can participate in as many active competitions as you want across different timeframes. Many traders diversify their predictions across quick, daily, and weekly competitions to maximize their opportunities.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <div class="guide-cta">
        <h2 class="cta-title">Ready to Start?</h2>
        <p class="cta-subtitle">Join thousands of traders making smart predictions on TokenWars</p>
        
        <div class="cta-steps">
            <div class="cta-step">
                <div class="cta-step-number">1</div>
                <div class="cta-step-text">Connect Wallet</div>
            </div>
            <div class="cta-step">
                <div class="cta-step-number">2</div>
                <div class="cta-step-text">Choose Market</div>
            </div>
            <div class="cta-step">
                <div class="cta-step-number">3</div>
                <div class="cta-step-text">Make Prediction</div>
            </div>
        </div>

        <a href="index.html" class="cta-button">
            Start Predicting Now
        </a>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" onclick="scrollToTop()">
        ↑
    </div>

    <script>
        // Mobile Navigation
        function initializeMobileNavigation() {
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            const hamburger = document.querySelector('.hamburger');
            
            if (!mobileToggle || !navLinks || !hamburger) return;
            
            mobileToggle.addEventListener('click', function() {
                const isOpen = navLinks.classList.contains('active');
                if (isOpen) {
                    closeMobileMenu();
                } else {
                    openMobileMenu();
                }
            });
            
            const navLinksItems = navLinks.querySelectorAll('a');
            navLinksItems.forEach(link => {
                link.addEventListener('click', function() {
                    closeMobileMenu();
                });
            });
        }

        function openMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            const hamburger = document.querySelector('.hamburger');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            
            navLinks.classList.add('active');
            hamburger.classList.add('active');
            mobileToggle.setAttribute('aria-expanded', 'true');
            document.body.style.overflow = 'hidden';
        }

        function closeMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            const hamburger = document.querySelector('.hamburger');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            
            navLinks.classList.remove('active');
            hamburger.classList.remove('active');
            mobileToggle.setAttribute('aria-expanded', 'false');
            document.body.style.overflow = '';
        }

        // Prize Calculator
        function updatePrizeCalculator(value) {
            const teamACount = parseInt(value);
            const teamBCount = 100 - teamACount;
            
            // Update player counts
            document.getElementById('tokenAPlayers').textContent = `${teamACount} pick Token A`;
            document.getElementById('tokenBPlayers').textContent = `${teamBCount} pick Token B`;
            document.getElementById('teamACount').textContent = teamACount;
            document.getElementById('teamBCount').textContent = teamBCount;
            
            // Calculate payouts (85% of 10 SOL pool = 8.5 SOL to winners)
            const prizePool = 8.5;
            
            // Team A wins scenario
            const payoutIfAWins = teamACount > 0 ? (prizePool / teamACount).toFixed(2) : 0;
            const returnIfAWins = teamACount > 0 ? (payoutIfAWins / 0.1).toFixed(1) : 0;
            
            // Team B wins scenario
            const payoutIfBWins = teamBCount > 0 ? (prizePool / teamBCount).toFixed(2) : 0;
            const returnIfBWins = teamBCount > 0 ? (payoutIfBWins / 0.1).toFixed(1) : 0;
            
            // Update displays
            document.getElementById('payoutA').textContent = `${payoutIfAWins} SOL`;
            document.getElementById('returnA').textContent = `${returnIfAWins}x return!`;
            document.getElementById('payoutB').textContent = `${payoutIfBWins} SOL`;
            document.getElementById('returnB').textContent = `${returnIfBWins}x return!`;
        }

        // FAQ Toggle
        function toggleFAQ(element) {
            const faqItem = element.parentElement;
            const wasActive = faqItem.classList.contains('active');
            
            // Close all other FAQs
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Toggle the clicked FAQ
            if (!wasActive) {
                faqItem.classList.add('active');
            }
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Back to top button
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Show/hide back to top button
        window.addEventListener('scroll', function() {
            const backToTop = document.querySelector('.back-to-top');
            if (window.scrollY > 500) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeMobileNavigation();
            updatePrizeCalculator(60); // Initialize with default value
        });

        // Placeholder wallet functions
        function openWalletModal() {
            window.location.href = 'index.html';
        }

        function disconnectWallet() {
            // This would be handled by the global wallet manager
            console.log('Disconnecting wallet...');
        }
    </script>
</body>
</html>
